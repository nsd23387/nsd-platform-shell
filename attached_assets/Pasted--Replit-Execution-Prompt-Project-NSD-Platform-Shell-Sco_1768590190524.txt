ğŸ¯ Replit Execution Prompt

Project: NSD Platform Shell
Scope: Campaign Execution UX Clarity & Real-Time Observability
Repo: nsd-platform-shell
Authority: UI is observational only. Backend state + ODS events are authoritative.

Objective

Optimize the Campaign Detail UI so users can clearly understand:

What stage the campaign is currently executing

What has already completed

Why certain results (e.g. 0 leads) occurred

Whether the system is actively working or idle

What actions (if any) they should take next

This must be fast to interpret, low friction, and confidence-building, especially during live execution.

Hard Architectural Guardrails (NON-NEGOTIABLE)

These must be followed strictly:

NO new canonical state

Do NOT add or modify:

campaigns

campaign_runs

organizations, contacts, leads

Do NOT introduce inferred execution fields.

UI is READ-ONLY & OBSERVATIONAL

All execution truth comes from:

campaign_runs.status

campaign_runs.phase

activity.events

The UI must never â€œdecideâ€ execution state.

ODS alignment

All breakdowns, warnings, and explanations must be derived from existing activity.events payloads.

No new ODS event types are introduced here (frontend only).

Language precision

Use â€œSkippedâ€, not â€œFailedâ€, for qualification outcomes (e.g. missing email).

Zero promoted leads â‰  execution failure.

No inference by time

Do NOT infer progress based on elapsed time.

Only reflect what is explicitly observed.

UX Problems to Solve

Current UX issues that MUST be addressed:

Users cannot tell which stage is running right now

Timeline and stage context are hidden behind tabs

Zero leads promoted looks like a failure

Execution health is fragmented across widgets

Polling is invisible and unclear

Required UI Enhancements
1ï¸âƒ£ Execution Stage Tracker (TOP OF PAGE)

Implement a vertical or horizontal stage tracker above the fold showing:

Organizations Sourced

Contacts Discovered

Leads Promoted

Each stage must show exactly ONE of:

Waiting

Running

Completed

Rules:

Stage status is derived from:

campaign_runs.phase

latest stage.completed events

No â€œFailedâ€ stage unless the entire run is failed.

2ï¸âƒ£ Active Stage Focus Panel (ABOVE THE FOLD)

Directly below the stage tracker, add a live-updating panel answering:

â€œWhat is the system doing right now?â€

Examples:

â€œSourcing organizations based on ICPâ€

â€œDiscovering contacts across 55 organizationsâ€

â€œQualifying contacts for lead promotionâ€

â€œExecution completedâ€

Rules:

Copy must be derived from observed execution state only.

Must update automatically via polling.

No speculation or inferred intent.

3ï¸âƒ£ Execution Health Indicator (Single Sentence)

Add a concise, human-readable health line visible without scrolling.

Examples:

â€œExecution running â€” discovering contactsâ€

â€œExecution completed â€” contacts discovered, no promotable leadsâ€

â€œExecution failed â€” adapter error during contact sourcingâ€

Rules:

Exactly one sentence

Must reconcile status + results

No alarmist language

4ï¸âƒ£ Results Breakdown Cards (Post-Stage Completion)

For completed stages, show clear breakdown cards explaining outcomes.

Examples:

Contacts Discovered:

Total fetched

Persisted

With email

Without email (skipped for promotion)

Lead Promotion:

Eligible

Promoted

Skipped (missing email)

Skipped (invalid email)

Rules:

Data sourced from ODS events only

Use â€œSkippedâ€, never â€œFailedâ€

Make zero outcomes explainable, not alarming

5ï¸âƒ£ Advisory Callouts (Non-Blocking)

Show contextual guidance ONLY when appropriate.

Examples:

â€œMost contacts lacked email â€” consider enabling email enrichmentâ€

â€œBroadening ICP keywords may increase promotable leadsâ€

Rules:

Clearly labeled as Advisory

Never imply system malfunction

Never block or override execution state

6ï¸âƒ£ Polling UX Enhancements

Improve visibility into live updates:

Display: â€œAuto-refreshing every 7sâ€ while execution is active

Show â€œExecution idleâ€ when terminal state reached

Provide a â€œRefresh nowâ€ action without interrupting polling

Tabs & Layout Guidance

Above the fold must include:

Stage Tracker

Active Stage Focus Panel

Execution Health Indicator

Observability tab remains for:

Full timeline

Detailed funnel tables

Deep inspection

The user should NOT need to click a tab to understand whatâ€™s happening now.

Acceptance Criteria (Must All Pass)

A user can answer â€œWhat is happening right now?â€ in <3 seconds

A user can understand why leads = 0 without guessing

No new backend state or schema introduced

UI does not misclassify successful executions as failures

All labels and copy align with backend execution semantics

Works correctly during:

Queued

Running

Completed (with warnings)

Failed

Final Instruction

Proceed with implementation only after validating alignment with these constraints.
If any requirement conflicts with existing UI architecture, pause and ask for clarification before proceeding.